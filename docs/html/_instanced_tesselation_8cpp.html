<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Mali OpenGL ES SDK v2.4.4: /home/jenkins/workspace/graphics_opengles_sdk_gerrit/Architecture/x86/OS/linux/samples/opengles_30/instanced_tesselation/InstancedTesselation.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="top_banner.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mali OpenGL ES SDK v2.4.4
<span id="malidevcenter"><a href="http://malideveloper.arm.com">Mali Developer Center</a></span>
   </div>
    <a id="eula" href="http://malideveloper.arm.com/develop-for-mali/mali-opengl-es-sdk-for-linux-end-user-licence-agreement-eula/
">Use of the code snippets present within these pages are subject to these EULA terms</a>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Help&#160;and&#160;Tutorials</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_instanced_tesselation_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">InstancedTesselation.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The application displays a rotating solid torus with a low-polygon wireframed mesh surrounding it. The torus is drawn by means of instanced tessellation technique.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_instanced_tesselation_8h_source.html">InstancedTesselation.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_torus_8h_source.html">Torus.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_wireframe_torus_8h_source.html">WireframeTorus.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_instanced_solid_torus_8h_source.html">InstancedSolidTorus.h</a>&quot;</code><br/>
<code>#include &quot;Platform.h&quot;</code><br/>
<code>#include &quot;EGLRuntime.h&quot;</code><br/>
<code>#include &quot;Matrix.h&quot;</code><br/>
<code>#include &quot;Shader.h&quot;</code><br/>
<code>#include &lt;GLES3/gl3.h&gt;</code><br/>
<code>#include &lt;GLES3/gl3ext.h&gt;</code><br/>
<code>#include &lt;EGL/egl.h&gt;</code><br/>
<code>#include &lt;cstdio&gt;</code><br/>
<code>#include &lt;cstdlib&gt;</code><br/>
<code>#include &lt;cmath&gt;</code><br/>
<code>#include &lt;string&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8b6932c8b56985a1bc4c6fe66db34286"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#a8b6932c8b56985a1bc4c6fe66db34286">setupGraphics</a> (void)</td></tr>
<tr class="separator:a8b6932c8b56985a1bc4c6fe66db34286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00df6d86f86c2004b5c421980456d3f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#a00df6d86f86c2004b5c421980456d3f7">renderFrame</a> ()</td></tr>
<tr class="separator:a00df6d86f86c2004b5c421980456d3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top"><a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (<a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a> argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abf39b78b92fb8148c3629987dc557ed8"><td class="memItemLeft" align="right" valign="top">const unsigned <a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#abf39b78b92fb8148c3629987dc557ed8">windowWidth</a> = 800</td></tr>
<tr class="separator:abf39b78b92fb8148c3629987dc557ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79746b255ba9ffebbb3ed2c96e8d16d1"><td class="memItemLeft" align="right" valign="top">const unsigned <a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#a79746b255ba9ffebbb3ed2c96e8d16d1">windowHeight</a> = 600</td></tr>
<tr class="separator:a79746b255ba9ffebbb3ed2c96e8d16d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3c44c0c93c88997d3c0fe7e034bcc54"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#af3c44c0c93c88997d3c0fe7e034bcc54">resourceDirectory</a> = &quot;assets/&quot;</td></tr>
<tr class="separator:af3c44c0c93c88997d3c0fe7e034bcc54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7286281f5506d5a0d1b005d945ba86c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_torus.html">Torus</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#ad7286281f5506d5a0d1b005d945ba86c">wireframeTorus</a></td></tr>
<tr class="separator:ad7286281f5506d5a0d1b005d945ba86c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734b0346b7557c8d45e38bc3a09bfef7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_torus.html">Torus</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_instanced_tesselation_8cpp.html#a734b0346b7557c8d45e38bc3a09bfef7">solidTorus</a></td></tr>
<tr class="separator:a734b0346b7557c8d45e38bc3a09bfef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The application displays a rotating solid torus with a low-polygon wireframed mesh surrounding it. The torus is drawn by means of instanced tessellation technique. </p>
<p>To perform instanced tessellation, we need to divide our model into several patches. Each patch is densly packed with triangles and improves effect of round surfaces. In the first stage of tessellation, patches consist of vertices placed in a form of square. Once passed to the shader, they are transformed into Bezier surface on the basis of control points stored in uniform blocks. Each instance of a draw call renders next part of the torus.</p>
<p>The following application instantiates 2 classes to manage both solid torus model and the wireframe that surrounds it. The first class is responsible for configuration of a program with shaders capable of instanced drawing, initialization of data buffers and handling instanced draw calls. To simplify the mathemathics and satisfy conditions for C1 continuity between patches, we assume that torus is constructed by 12 circles, each also defined by 12 points. In that manner, we are able to divide "big" and "small" circle of torus into four quadrants and build Bezier surfaces that approximate perfectly round shapes. For that purpose, the control points cannot lay on the surface of the torus, but have to be distorted properly.</p>
<p>The second class manages components corresponding to the wireframe. It uses vertices placed on the surface of torus and uses a simple draw call with GL_LINES mode. The size of its "small circle" is slightly bigger than the corresponding dimension of the solid torus, so there is a space between both models.</p>
<p>Common elements for both classes are placed in an abstract <a class="el" href="class_torus.html" title="Abstract class that draws torus on the screen. It stores generic data describing the drawn torus:...">Torus</a> class. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a> main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a>&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a00df6d86f86c2004b5c421980456d3f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void renderFrame </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b6932c8b56985a1bc4c6fe66db34286"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool setupGraphics </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="af3c44c0c93c88997d3c0fe7e034bcc54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string resourceDirectory = &quot;assets/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a734b0346b7557c8d45e38bc3a09bfef7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_torus.html">Torus</a>* solidTorus</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a79746b255ba9ffebbb3ed2c96e8d16d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a> windowHeight = 600</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abf39b78b92fb8148c3629987dc557ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="physics_8cs.html#ad4c740ec72b16a35038e3b75d175014f">int</a> windowWidth = 800</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad7286281f5506d5a0d1b005d945ba86c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_torus.html">Torus</a>* wireframeTorus</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6f9635d4fbfa321d4c00f29df5cd540c.html">samples</a></li><li class="navelem"><a class="el" href="dir_ae9ce9d606b16d5cb86fbff31bf38722.html">opengles_30</a></li><li class="navelem"><a class="el" href="dir_06545c1248abdca5b4b396a56d1bffce.html">instanced_tesselation</a></li><li class="navelem"><a class="el" href="_instanced_tesselation_8cpp.html">InstancedTesselation.cpp</a></li>
    <li class="footer">
        <a class="copyright" href="http://www.arm.com/">(C) ARM Ltd. 2013</a>
    </li>
  </ul>
</div>
</body>
</html>
