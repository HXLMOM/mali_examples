<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Mali OpenGL ES SDK v2.4.4: /home/jenkins/workspace/graphics_opengles_sdk_gerrit/Architecture/x86/OS/linux/samples/opengles_30/instanced_tesselation/InstancedSolidTorus.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="top_banner.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mali OpenGL ES SDK v2.4.4
<span id="malidevcenter"><a href="http://malideveloper.arm.com">Mali Developer Center</a></span>
   </div>
    <a id="eula" href="http://malideveloper.arm.com/develop-for-mali/mali-opengl-es-sdk-for-linux-end-user-licence-agreement-eula/
">Use of the code snippets present within these pages are subject to these EULA terms</a>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Help&#160;and&#160;Tutorials</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_instanced_solid_torus_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">InstancedSolidTorus.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_instanced_solid_torus_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This confidential and proprietary software may be used only as</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * authorised by a licensing agreement from ARM Limited</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * (C) COPYRIGHT 2012 ARM Limited</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * ALL RIGHTS RESERVED</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * The entire notice above must be reproduced on all authorised</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * copies and copies may only be made to the extent permitted</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * by a licensing agreement from ARM Limited.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifndef INSTANCED_SOLID_TORUS_H</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define INSTANCED_SOLID_TORUS_H</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_torus_8h.html">Torus.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html">   34</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_instanced_solid_torus.html" title="Class derived form Torus abstract class. It manages drawing of a rotating solid torus, built from separate patches. Each patch is modelled as a Bezier surface approximating surface of a perfect torus. To satisfy the C1 continuity between neighbour patches, the number of circles creating the torus and also the number of points in each circle is restricted to 12. It allows us to divide both circles of torus (&quot;big&quot; and &quot;small&quot;) into 4 quadrants and approximate each of it using bicubic Bezier curves. Control mesh vertices has to be distored, so the derivatives on the patch edges are equal and resulting image is round. That is why we cannot use the regular way to determine control points. The patches are in fact very dense square-shaped meshes, used as input attributes by vertex shader. The shader changes their shape on the basis of the distorted control mesh and places them next to each other, forming a round torus. The class, apart from inherited components, manages:">InstancedSolidTorus</a> : <span class="keyword">public</span> <a class="code" href="class_torus.html" title="Abstract class that draws torus on the screen. It stores generic data describing the drawn torus:...">Torus</a></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#adb2d962662a5e37303342a740f44e258">   40</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#adb2d962662a5e37303342a740f44e258" title="Number of control points in one dimension for a patch.">patchDimension</a> = 4;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#ac7e4b44c874dfc3ef1140b635c8f8dd5">   44</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#ac7e4b44c874dfc3ef1140b635c8f8dd5" title="Total number of control points in a patch.">controlPointsInPatchCount</a> = <a class="code" href="class_instanced_solid_torus.html#adb2d962662a5e37303342a740f44e258" title="Number of control points in one dimension for a patch.">patchDimension</a> * <a class="code" href="class_instanced_solid_torus.html#adb2d962662a5e37303342a740f44e258" title="Number of control points in one dimension for a patch.">patchDimension</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a8b48732fd2996cd9f599f6bfc3eeaa8e">   48</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#a8b48732fd2996cd9f599f6bfc3eeaa8e" title="Number of quads in a patch.">quadsInPatchCount</a> = (<a class="code" href="class_instanced_solid_torus.html#adb2d962662a5e37303342a740f44e258" title="Number of control points in one dimension for a patch.">patchDimension</a> - 1) * (<a class="code" href="class_instanced_solid_torus.html#adb2d962662a5e37303342a740f44e258" title="Number of control points in one dimension for a patch.">patchDimension</a> - 1);</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#ad40353e29e5c5f2153de73166ad819a9">   52</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#ad40353e29e5c5f2153de73166ad819a9" title="Number of indices needed to create a control mesh.">controlPointsIndicesCount</a> = <a class="code" href="class_instanced_solid_torus.html#ac7e4b44c874dfc3ef1140b635c8f8dd5" title="Total number of control points in a patch.">controlPointsInPatchCount</a> * <a class="code" href="class_torus.html#ad714a3d8a3f2a25fb12b0066a6af1ba2" title="Total number of vertices in torus model.">torusVerticesCount</a> / <a class="code" href="class_instanced_solid_torus.html#a8b48732fd2996cd9f599f6bfc3eeaa8e" title="Number of quads in a patch.">quadsInPatchCount</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a68c50184ab32fdf064ea7b1d279a5d07">   56</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#a68c50184ab32fdf064ea7b1d279a5d07" title="Number of instances needed to draw the whole torus.">patchInstancesCount</a> = <a class="code" href="class_instanced_solid_torus.html#ad40353e29e5c5f2153de73166ad819a9" title="Number of indices needed to create a control mesh.">controlPointsIndicesCount</a> / <a class="code" href="class_instanced_solid_torus.html#ac7e4b44c874dfc3ef1140b635c8f8dd5" title="Total number of control points in a patch.">controlPointsInPatchCount</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a19ccbb563183ce3f282274b2834984ec">   60</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#a19ccbb563183ce3f282274b2834984ec" title="Number of vertices in one edge of a patch.">patchDensity</a> = 16;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a1525e9e91ad749ae16a96f06460307bb">   64</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#a1525e9e91ad749ae16a96f06460307bb" title="Total number of vertices in a patch.">patchVerticesCount</a> = <a class="code" href="class_instanced_solid_torus.html#a19ccbb563183ce3f282274b2834984ec" title="Number of vertices in one edge of a patch.">patchDensity</a> * <a class="code" href="class_instanced_solid_torus.html#a19ccbb563183ce3f282274b2834984ec" title="Number of vertices in one edge of a patch.">patchDensity</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#af12405785d02edb114acfe124ff51ce2">   68</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#af12405785d02edb114acfe124ff51ce2" title="Total number of components describing a patch (only U/V components are defined).">patchComponentsCount</a> = <a class="code" href="class_instanced_solid_torus.html#a1525e9e91ad749ae16a96f06460307bb" title="Total number of vertices in a patch.">patchVerticesCount</a> * 2;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a5c9d386960906547907a19edb0e73b7d">   72</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_instanced_solid_torus.html#a5c9d386960906547907a19edb0e73b7d" title="Number of indices that need to be defined to draw quads consisting of triangles (6 points per quad ne...">patchTriangleIndicesCount</a> = (<a class="code" href="class_instanced_solid_torus.html#a19ccbb563183ce3f282274b2834984ec" title="Number of vertices in one edge of a patch.">patchDensity</a> - 1) * (<a class="code" href="class_instanced_solid_torus.html#a19ccbb563183ce3f282274b2834984ec" title="Number of vertices in one edge of a patch.">patchDensity</a> - 1) * 6;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a258b5149aee2f15e09475260c9596585">   77</a></span>&#160;    GLuint <a class="code" href="class_instanced_solid_torus.html#a258b5149aee2f15e09475260c9596585" title="Index of a buffer that we bind to GL_UNIFORM_BUFFER binding point. It stores uniform control indices ...">controlIndicesBufferID</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a3b44101fd906ad7b2ae5fa1814bc1699">   81</a></span>&#160;    GLuint <a class="code" href="class_instanced_solid_torus.html#a3b44101fd906ad7b2ae5fa1814bc1699" title="Index of a buffer that we bind to GL_UNIFORM_BUFFER binding point. It stores uniform control vertices...">controlVerticesBufferID</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a56f7ca664b77d5bdc2640209e1ccc409">   86</a></span>&#160;    GLuint <a class="code" href="class_instanced_solid_torus.html#a56f7ca664b77d5bdc2640209e1ccc409" title="Index of a buffer that we bind to GL_ELEMENT_ARRAY_BUFFER binding point. It containts indices of patc...">patchIndicesBufferID</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="code" href="class_instanced_solid_torus.html#a62b6908ab61661cb89a73ca9ba7c1575">   91</a></span>&#160;    GLuint <a class="code" href="class_instanced_solid_torus.html#a62b6908ab61661cb89a73ca9ba7c1575" title="Index of a buffer that we bind to GL_ARRAY_BUFFER binding point. It stores patch vertices passed as a...">patchVertexBufferID</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_instanced_solid_torus.html#ac9a128234c0e9665a6a07ecc11156b41" title="Initializes control mesh data and stores it in appropriate uniform buffers.">initializeControlUniformBuffers</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_instanced_solid_torus.html#ab5c4cf287a2f9be71b8cfac45ae4015e" title="Initialize vertex attribute arrays and buffer objects coresponding to them. Make sure that programID ...">initializeVertexAttribs</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_instanced_solid_torus.html#a281501b7e580c8f08b57d306b6f180f8" title="Sets directionl light parameters, such as light direction, its color and ambient intensity and passes...">setLightParameters</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="class_instanced_solid_torus.html#afb309733fac929dcda122af1c0c82aa3" title="Instantiates a representation of a solid torus, using user-provided radius and tube radius...">InstancedSolidTorus</a>(<span class="keywordtype">float</span> <a class="code" href="class_torus.html#a51974e76cf184adfaa3b5738f08706c0" title="Distance between the center of torus and the center of its tube.">torusRadius</a>, <span class="keywordtype">float</span> <a class="code" href="class_torus.html#acc2333207d9e476e7e9440d169abcf6a" title="Radius of circles that model the tube.">circleRadius</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="class_instanced_solid_torus.html#abe0ebbaa58481304277d7c47cafe7524" title="Frees allocated memory.">~InstancedSolidTorus</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_instanced_solid_torus.html#ae08fc72349bddb25c0c1cf2b65959d29" title="Draws instanced solid torus.">draw</a>(<span class="keywordtype">float</span>* <a class="code" href="_instanced___tessellation___instanced__shader_8vert.html#a8cff8fbbf86a2740946bd17d951e1c3e">rotationVector</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;};</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* INSTANCED_SOLID_TORUS_H. */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6f9635d4fbfa321d4c00f29df5cd540c.html">samples</a></li><li class="navelem"><a class="el" href="dir_ae9ce9d606b16d5cb86fbff31bf38722.html">opengles_30</a></li><li class="navelem"><a class="el" href="dir_06545c1248abdca5b4b396a56d1bffce.html">instanced_tesselation</a></li><li class="navelem"><a class="el" href="_instanced_solid_torus_8h.html">InstancedSolidTorus.h</a></li>
    <li class="footer">
        <a class="copyright" href="http://www.arm.com/">(C) ARM Ltd. 2013</a>
    </li>
  </ul>
</div>
</body>
</html>
